<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spielesammlung</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 20px;
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        
        footer {
            text-align: center;
            font-family: Consolas, monospace;
            font-size: 12px;
            margin-top: 20px;
        }
        
        .games-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-gap: 20px;
            max-width: 900px;
            margin: 0 auto;
        }
        
        .game-button {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            text-decoration: none;
            color: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 200px;
        }
        
        .game-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }
        
        .game-icon {
            width: 100%;
            height: 140px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f8f8f8;
        }
        
        .game-icon svg {
            width: 80px;
            height: 80px;
        }
        
        .game-title {
            padding: 15px;
            text-align: center;
            font-weight: bold;
            font-size: 16px;
        }
        
        .coming-soon {
            background-color: #f0f0f0;
            color: #777;
            cursor: not-allowed;
        }
        
        .coming-soon:hover {
            transform: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .language-selector {
            position: absolute;
            top: 20px;
            right: 20px;
        }
        
        select {
            padding: 8px;
            font-size: 16px;
            border-radius: 5px;
        }
        
        @media (max-width: 768px) {
            .games-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .language-selector {
                position: relative;
                top: 0;
                right: 0;
                text-align: right;
                margin-bottom: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .games-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="language-selector">
        <select id="language-select">
            <option value="de">Deutsch</option>
            <option value="en">English</option>
            <option value="fr">Français</option>
            <option value="es">Español</option>
            <option value="pl">Polski</option>
        </select>
    </div>
    
    <h1 id="page-title">Spielesammlung</h1>
    
    <div class="games-container">
        <!-- Numbers Game -->
        <a href="numbers_game.html" class="game-button" id="numbers-game-link">
            <div class="game-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#2196F3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="2" y="6" width="8" height="12" rx="1" fill="#64B5F6" />
                    <rect x="14" y="6" width="8" height="12" rx="1" fill="#64B5F6" />
                    <path d="M6 10v4" stroke="#000" stroke-width="2" />
                    <path d="M4 12h4" stroke="#000" stroke-width="2" />
                    <path d="M18 10v4" stroke="#000" stroke-width="2" />
                    <path d="M10 12h4" stroke="#000" stroke-width="1.5" stroke-dasharray="1 1" />
                </svg>
            </div>
            <div class="game-title" id="numbers-game-title">Zahlenvergleichsspiel</div>
        </a>
        
        <!-- Balloon Math Game -->
        <a href="balloon.html" class="game-button" id="balloon-game-link">
            <div class="game-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <!-- Balloon body -->
                    <path d="M12 4c-3.3 0-6 2.7-6 6 0 2.2 1.2 4.3 3 5.5.6.4 1 1 1.2 1.7l.3 1.8h3l.3-1.8c.2-.7.6-1.3 1.2-1.7 1.8-1.2 3-3.3 3-5.5 0-3.3-2.7-6-6-6z" 
                          fill="#FF9800" stroke="#E65100" stroke-width="1.5" />
                    <!-- Balloon string -->
                    <path d="M12 19v3" stroke="#666" stroke-width="1.5" />
                    <!-- Math symbols -->
                    <path d="M9 8h6M12 5v6" stroke="white" stroke-width="1.5" />
                    <path d="M8 12l8-4" stroke="white" stroke-width="1.5" opacity="0.7" />
                </svg>
            </div>
            <div class="game-title" id="balloon-game-title">Mathe-Luftballonspiel</div>
        </a>
        
        <!-- Number Sorting Game -->
        <a href="sort_numbers.html" class="game-button" id="sorting-game-link">
            <div class="game-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <!-- Background rectangle -->
                    <rect x="2" y="2" width="20" height="20" rx="2" fill="#ECEFF1" stroke="#78909C" stroke-width="1" />
                    
                    <!-- Sorting arrows -->
                    <path d="M7 8l3 -3l3 3" stroke="#4CAF50" stroke-width="2" />
                    <path d="M7 16l3 3l3 -3" stroke="#F44336" stroke-width="2" />
                    
                    <!-- Number lines -->
                    <line x1="16" y1="8" x2="20" y2="8" stroke="#333" stroke-width="2" />
                    <line x1="16" y1="12" x2="18" y2="12" stroke="#333" stroke-width="2" />
                    <line x1="16" y1="16" x2="19" y2="16" stroke="#333" stroke-width="2" />
                    
                    <!-- Small numbers -->
                    <text x="5" y="12" font-family="Arial" font-size="6" fill="#333" text-anchor="middle">1</text>
                    <text x="10" y="12" font-family="Arial" font-size="6" fill="#333" text-anchor="middle">2</text>
                    <text x="15" y="12" font-family="Arial" font-size="6" fill="#333" text-anchor="middle">3</text>
                </svg>
            </div>
            <div class="game-title" id="sorting-game-title">Zahlen-Sortierspiel</div>
        </a>

        
        <!-- Sudoku Game -->
        <a href="sudoku.html" class="game-button" id="sudoku-game-link">
            <div class="game-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <!-- Background square -->
                    <rect x="2" y="2" width="20" height="20" rx="2" fill="#E8EAF6" stroke="#3F51B5" stroke-width="1" />
                    
                    <!-- Grid lines -->
                    <line x1="8" y1="2" x2="8" y2="22" stroke="#3F51B5" stroke-width="1.5" />
                    <line x1="16" y1="2" x2="16" y2="22" stroke="#3F51B5" stroke-width="1.5" />
                    <line x1="2" y1="8" x2="22" y2="8" stroke="#3F51B5" stroke-width="1.5" />
                    <line x1="2" y1="16" x2="22" y2="16" stroke="#3F51B5" stroke-width="1.5" />
                    
                    <!-- Numbers -->
                    <text x="5" y="6" font-family="Arial" font-size="4" fill="#3F51B5" text-anchor="middle">4</text>
                    <text x="13" y="6" font-family="Arial" font-size="4" fill="#3F51B5" text-anchor="middle">2</text>
                    <text x="21" y="6" font-family="Arial" font-size="4" fill="#3F51B5" text-anchor="middle">1</text>
                    
                    <text x="5" y="14" font-family="Arial" font-size="4" fill="#3F51B5" text-anchor="middle">1</text>
                    <text x="13" y="14" font-family="Arial" font-size="4" fill="#3F51B5" text-anchor="middle">3</text>
                    
                    <text x="5" y="21" font-family="Arial" font-size="4" fill="#3F51B5" text-anchor="middle">2</text>
                    <text x="21" y="21" font-family="Arial" font-size="4" fill="#3F51B5" text-anchor="middle">4</text>
                </svg>
            </div>
            <div class="game-title" id="sudoku-game-title">Sudoku 4x4</div>
        </a>

        <!-- Number Matching Game -->
        <a href="matching_numbers.html" class="game-button" id="matching-game-link">
            <div class="game-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <!-- Background -->
                    <rect x="2" y="2" width="20" height="20" rx="2" fill="#E1F5FE" stroke="#0288D1" stroke-width="1" />
                    
                    <!-- Number card -->
                    <rect x="4" y="7" width="6" height="10" rx="1" fill="#2196F3" stroke="#0D47A1" stroke-width="1" />
                    <text x="7" y="14" font-family="Arial" font-size="6" fill="white" text-anchor="middle" font-weight="bold">5</text>
                    
                    <!-- Arrow -->
                    <path d="M11 12h2" stroke="#333" stroke-width="1" />
                    <path d="M13 12l-1 -1" stroke="#333" stroke-width="1" />
                    <path d="M13 12l-1 1" stroke="#333" stroke-width="1" />
                    
                    <!-- Target representation - apples -->
                    <circle cx="16" cy="8.5" r="1.5" fill="#e53935" />
                    <path d="M16,7 Q16.3,6.7 16.3,6.5" stroke="#4CAF50" stroke-width="0.5" />
                    
                    <circle cx="19" cy="8.5" r="1.5" fill="#e53935" />
                    <path d="M19,7 Q19.3,6.7 19.3,6.5" stroke="#4CAF50" stroke-width="0.5" />
                    
                    <circle cx="16" cy="11.5" r="1.5" fill="#e53935" />
                    <path d="M16,10 Q16.3,9.7 16.3,9.5" stroke="#4CAF50" stroke-width="0.5" />
                    
                    <circle cx="19" cy="11.5" r="1.5" fill="#e53935" />
                    <path d="M19,10 Q19.3,9.7 19.3,9.5" stroke="#4CAF50" stroke-width="0.5" />
                    
                    <circle cx="17.5" cy="14.5" r="1.5" fill="#e53935" />
                    <path d="M17.5,13 Q17.8,12.7 17.8,12.5" stroke="#4CAF50" stroke-width="0.5" />
                    
                    <!-- Checkmark -->
                    <circle cx="18" cy="17" r="1.5" fill="#4CAF50" />
                    <path d="M17 17l0.5 0.5 1.5 -1.5" stroke="white" stroke-width="0.5" />
                </svg>
            </div>
            <div class="game-title" id="matching-game-title">Zahlen-Zuordnungsspiel</div>
        </a>
        
        
        <!-- Guess the Number Game -->
        <a href="guess_number.html" class="game-button" id="guess-number-link">
            <div class="game-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <!-- Background -->
                    <rect x="2" y="2" width="20" height="20" rx="2" fill="#E8F5E9" stroke="#388E3C" stroke-width="1" />
                    
                    <!-- Number line -->
                    <line x1="5" y1="12" x2="19" y2="12" stroke="#388E3C" stroke-width="1.5" />
                    
                    <!-- Range highlight -->
                    <rect x="8" y="10" width="8" height="4" rx="2" fill="rgba(76, 175, 80, 0.3)" />
                    
                    <!-- Number markers -->
                    <circle cx="5" cy="12" r="1" fill="#388E3C" />
                    <text x="5" y="10" font-family="Arial" font-size="3" fill="#388E3C" text-anchor="middle">1</text>
                    
                    <circle cx="9" cy="12" r="1" fill="#388E3C" />
                    <text x="9" y="10" font-family="Arial" font-size="3" fill="#388E3C" text-anchor="middle">5</text>
                    
                    <circle cx="15" cy="12" r="1" fill="#388E3C" />
                    <text x="15" y="10" font-family="Arial" font-size="3" fill="#388E3C" text-anchor="middle">10</text>
                    
                    <circle cx="19" cy="12" r="1" fill="#388E3C" />
                    <text x="19" y="10" font-family="Arial" font-size="3" fill="#388E3C" text-anchor="middle">15</text>
                    
                    <!-- Target number (hidden) -->
                    <circle cx="12" cy="12" r="2.5" fill="#4CAF50" stroke="#388E3C" stroke-width="0.5" />
                    <text x="12" y="13" font-family="Arial" font-size="3" fill="white" text-anchor="middle" font-weight="bold">?</text>
                    
                    <!-- Thinking bubble -->
                    <circle cx="17" cy="6" r="1" fill="#BBDEFB" stroke="#1976D2" stroke-width="0.5" />
                    <circle cx="18.5" cy="5" r="1.5" fill="#BBDEFB" stroke="#1976D2" stroke-width="0.5" />
                    <circle cx="20" cy="3.5" r="2" fill="#BBDEFB" stroke="#1976D2" stroke-width="0.5" />
                    <text x="20" y="4.5" font-family="Arial" font-size="3" fill="#1976D2" text-anchor="middle" font-weight="bold">7</text>
                    
                    <!-- Hint text -->
                    <rect x="4" y="16" width="16" height="4" rx="1" fill="#E3F2FD" stroke="#1976D2" stroke-width="0.5" />
                    <text x="12" y="19" font-family="Arial" font-size="2" fill="#1976D2" text-anchor="middle">5 < ? < 10</text>
                </svg>
            </div>
            <div class="game-title" id="guess-number-title">Zahlenraten</div>
        </a>

        
        <div class="game-button coming-soon">
            <div class="game-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#777" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10" />
                    <path d="M12 8v4" />
                    <path d="M12 16h.01" />
                </svg>
            </div>
            <div class="game-title" id="coming-soon-5">Demnächst verfügbar</div>
        </div>
        
        <div class="game-button coming-soon">
            <div class="game-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#777" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10" />
                    <path d="M12 8v4" />
                    <path d="M12 16h.01" />
                </svg>
            </div>
            <div class="game-title" id="coming-soon-6">Demnächst verfügbar</div>
        </div>
        
        <div class="game-button coming-soon">
            <div class="game-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#777" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10" />
                    <path d="M12 8v4" />
                    <path d="M12 16h.01" />
                </svg>
            </div>
            <div class="game-title" id="coming-soon-7">Demnächst verfügbar</div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const languageSelect = document.getElementById('language-select');
    
            if (!languageSelect) {
                console.error('Language select element not found!');
                return;
            }
            
            // Add event listener for language changes
            languageSelect.addEventListener('change', changeLanguage);
            const pageTitle = document.getElementById('page-title');
            const numbersGameTitle = document.getElementById('numbers-game-title');
            const balloonGameTitle = document.getElementById('balloon-game-title');
            const sortingGameTitle = document.getElementById('sorting-game-title');
            const sudokuGameTitle = document.getElementById('sudoku-game-title');
            const matchingGameTitle = document.getElementById('matching-game-title');
            const numbersGameLink = document.getElementById('numbers-game-link');
            const balloonGameLink = document.getElementById('balloon-game-link');
            const sortingGameLink = document.getElementById('sorting-game-link');
            const sudokuGameLink = document.getElementById('sudoku-game-link');
            const matchingGameLink = document.getElementById('matching-game-link');
            const guessNumberTitle = document.getElementById('guess-number-title');
            const comingSoonElements = [];
            
            for (let i = 1; i <= 7; i++) {
                comingSoonElements.push(document.getElementById(`coming-soon-${i}`));
            }
            
            // Language translations
            const translations = {
                'en': {
                    'page-title': 'Games Collection',
                    'numbers-game-title': 'Number Comparison Game',
                    'balloon-game-title': 'Math Balloon Game',
                    'sorting-game-title': 'Number Sorting Game',
                    'sudoku-game-title': 'Sudoku 4x4',
                    'matching-game-title': 'Number Matching Game',
                    'guess-number-title': 'Guess the Number',
                    'coming-soon': 'Coming Soon',
                    'footer-text': '© 2025 Uncle Jakob'
                },
                'de': {
                    'page-title': 'Spielesammlung',
                    'numbers-game-title': 'Zahlenvergleichsspiel',
                    'balloon-game-title': 'Mathe-Luftballonspiel',
                    'sorting-game-title': 'Zahlen-Sortierspiel',
                    'sudoku-game-title': 'Sudoku 4x4',
                    'matching-game-title': 'Zahlen-Zuordnungsspiel',
                    'guess-number-title': 'Zahlenraten',
                    'coming-soon': 'Demnächst verfügbar',
                    'footer-text': '© 2025 Onkel Jakob'
                },
                'fr': {
                    'page-title': 'Collection de Jeux',
                    'numbers-game-title': 'Jeu de Comparaison de Nombres',
                    'balloon-game-title': 'Jeu de Ballons Mathématiques',
                    'sorting-game-title': 'Jeu de Tri de Nombres',
                    'sudoku-game-title': 'Sudoku 4x4',
                    'matching-game-title': 'Jeu d\'Association de Nombres',
                    'guess-number-title': 'Devinez le Nombre',
                    'coming-soon': 'Bientôt Disponible',
                    'footer-text': '© 2025 Oncle Jakob'
                },
                'es': {
                    'page-title': 'Colección de Juegos',
                    'numbers-game-title': 'Juego de Comparación de Números',
                    'balloon-game-title': 'Juego de Globos Matemáticos',
                    'sorting-game-title': 'Juego de Ordenar Números',
                    'sudoku-game-title': 'Sudoku 4x4',
                    'matching-game-title': 'Juego de Emparejamiento de Números',
                    'guess-number-title': 'Adivina el Número',
                    'coming-soon': 'Próximamente',
                    'footer-text': '© 2025 Tío Jakob'
                },
                'pl': {
                    'page-title': 'Kolekcja Gier',
                    'numbers-game-title': 'Gra Porównywania Liczb',
                    'balloon-game-title': 'Gra Matematyczne Balony',
                    'sorting-game-title': 'Gra Sortowanie Liczb',
                    'sudoku-game-title': 'Sudoku 4x4',
                    'matching-game-title': 'Gra Dopasowywanie Liczb',
                    'guess-number-title': 'Zgadnij Liczbę',
                    'coming-soon': 'Wkrótce Dostępne',
                    'footer-text': '© 2025 Wujek Jakob'
                }
            };
                       
            // Detect browser language
            function detectLanguage() {
                // Check URL parameter first
                const urlParams = new URLSearchParams(window.location.search);
                const langParam = urlParams.get('lang');
                console.log('URL language parameter:', langParam);
                if (langParam && translations[langParam]) {
                    return langParam;
                }
                
                // Check localStorage next
                const storedLang = localStorage.getItem('preferredLanguage');
                console.log('Stored language preference:', storedLang);
                if (storedLang && translations[storedLang]) {
                    return storedLang;
                }
                
                // Finally, check browser language
                const browserLang = navigator.language || navigator.userLanguage;
                const shortLang = browserLang.split('-')[0]; // Get primary language code
                console.log('Browser language:', browserLang, 'Short language code:', shortLang);
                
                // Check if we support this language
                if (translations[shortLang]) {
                    return shortLang;
                }
                
                // Default to German if language not supported
                console.log('Defaulting to German');
                return 'de';
            }

            
            // Set initial language based on detection
            const initialLanguage = detectLanguage();
            languageSelect.value = initialLanguage;
            document.documentElement.lang = initialLanguage;

            // Apply initial language
            applyLanguage(initialLanguage);

            
            // Add event listener for language changes
            languageSelect.addEventListener('change', changeLanguage);
            
            function changeLanguage() {
                const currentLanguage = languageSelect.value;
                console.log('Changing language to:', currentLanguage);
                
                // Check if the language is supported
                if (!translations[currentLanguage]) {
                    console.error('Unsupported language:', currentLanguage);
                    return;
                }
                
                // Apply the language
                applyLanguage(currentLanguage);
                
                // Store the language preference in localStorage
                localStorage.setItem('preferredLanguage', currentLanguage);
                
                // Update the URL parameter without reloading the page
                const url = new URL(window.location);
                url.searchParams.set('lang', currentLanguage);
                window.history.replaceState({}, '', url);
            }

            
            function applyLanguage(langCode) {
                console.log('Applying language:', langCode);
                const lang = translations[langCode];
                
                if (!lang) {
                    console.error('Language not found in translations:', langCode);
                    return;
                }
                
                // Update UI elements
                pageTitle.textContent = lang['page-title'];
                numbersGameTitle.textContent = lang['numbers-game-title'];
                balloonGameTitle.textContent = lang['balloon-game-title'];
                sortingGameTitle.textContent = lang['sorting-game-title'];
                sudokuGameTitle.textContent = lang['sudoku-game-title'];
                matchingGameTitle.textContent = lang['matching-game-title'];
                guessNumberTitle.textContent = lang['guess-number-title'];
    
                document.title = lang['page-title'];
                
                // Update footer text if it exists
                const footerText = document.getElementById('footer-text');
                if (footerText && lang['footer-text']) {
                    footerText.textContent = lang['footer-text'];
                }
                
                // Update all "coming soon" elements
                for (let i = 1; i <= 7; i++) {
                    const element = document.getElementById(`coming-soon-${i}`);
                    if (element) {
                        element.textContent = lang['coming-soon'];
                    }
                }
                
                // Update document language
                document.documentElement.lang = langCode;
                
                // Update href for game links to include language parameter
                if (numbersGameLink) numbersGameLink.href = `numbers_game.html?lang=${langCode}`;
                if (balloonGameLink) balloonGameLink.href = `balloon.html?lang=${langCode}`;
                if (sortingGameLink) sortingGameLink.href = `sort_numbers.html?lang=${langCode}`;
                if (sudokuGameLink) sudokuGameLink.href = `sudoku.html?lang=${langCode}`;
                if (matchingGameLink) matchingGameLink.href = `matching_numbers.html?lang=${langCode}`;
                if (guessNumberLink) guessNumberLink.href = `guess_number.html?lang=${langCode}`;
            }


        });
    </script>
    
</body>
<footer>
    <p id="footer-text">&copy; 2025 Onkel Jakob</p>
  </footer>
</html>
